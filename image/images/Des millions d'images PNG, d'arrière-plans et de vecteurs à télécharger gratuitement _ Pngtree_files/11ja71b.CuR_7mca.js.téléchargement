import"./bygoogle.7nHb_0PG.js";import"./prf-down.BsShHv6P.js";import{m as A,l as y,o as g,u as H,n as P,b as p,a as d,c as R,w as q,k as I,x as F,q as K}from"./index.3sqPf_qX.js";import{d as x,b as U,h as l,a as B}from"./hue.-BREZFm7.js";import{a0 as E}from"./reactivity.esm-bundler.cmFeAfX-.js";import{r as V,a as z}from"./recaptcha.BpIDBJzX.js";import"./nav.4rAvyvMJ.js";import"./client.DiqOaRwl.js";import"./client.BaOf1n6n.js";import"./core.BFxQOkmY.js";function N(){import.meta.url,import("data:text/javascript,").catch(()=>1);async function*e(){}N.g=e}__DATA__.isTestEnv&&(window.__HUE_BASE64__={encode:U,decode:x});function G(){const e="freedn_count";i.free?A(e,y(e,0)+1):g(e)}function M(){const e=C(),t=y(e,null);if(X(e),t){const o=t.data.downUrl;o&&(t.data.downUrl=W(o))}return t}function Q(e){const t=C();if(!e)return g(t);e.data={...e.data,downUrl:J(e.data.downUrl)},A(t,e,H(.5))}function W(e){if(!e)return e;try{return x(e)}catch(t){return e}}function J(e){if(!e)return e;try{return U(e)}catch(t){return e}}function C(){const{id:e,type:t,t:o}=i,a=__DATA__.uid;return"d_".concat(e,"_").concat(t,"_").concat(o,"**").concat(a)}function X(e){const t="**"+__DATA__.uid,o=Object.keys(window.localStorage).filter(s=>s!==e&&s.endsWith(t)&&s.indexOf("_",2)>0).filter(s=>s.indexOf("__")==0?(g(s),!1):s.indexOf("d_")==0),a=o.length>=14;for(const s of o)a?g(s):y(s)}const i=window._getDownData(),Y=(i.delay||3)*1e3,n=E({spin:!1,usrTap:!1,status:null,data:{},share:{},second:i.second||10,whatThisOpen:!1}),S={g_token:"",errData:{}};function Z(){const e=M();if(e)return L(e),l("down-from-cache"),!0}function L(e,t){Object.assign(n.data,e.data),Object.assign(n.share,e.share),te(),oe(e.data.downUrl)}const $="beforeunload";function ee(e){window.addEventListener($,j),e&&e.focus()}function T(e){e==="ok"&&window.removeEventListener($,j)}function j(e){if(n.spin){const t="Reload ?";return e.preventDefault(),e.returnValue=t,l("down-"+$),t}}function te(){let e=n.second;const t=P(()=>{n.second=e,e--,e<0&&(n.second=0,t())},1e3)}function oe(e,t){const o=e.includes("ingramapi.com"),a=()=>{ne(e),o||setTimeout(()=>{n.status="ok"},5e3),n.spin=!1};i.free?setTimeout(a,Y):a()}function ne(e){const t=document.getElementById("_uhgs67");t?t.src=e:window.open(e,"_blank")}function _(){p.get("/api/statistics/down-limit")}function ae(e,t){var c,w;const o=y("search_keyword",[]),a=(u,m)=>{for(let k=0;k<m.length;k++)if(u==m[k])return!0;return!1};let s="",f="";for(const u of o)if(u.type==t&&a(e,u.id||[])){s=(c=u.keyword)!=null?c:"",f=(w=u.result)!=null?w:"";break}s!=""&&f!=""&&B({search_keyword:s,search_result:f,search_type:t,search:0,down_id:e})}const O=()=>{n.spin=!1,$toast.error("Google recaptcha failed to load!")},b=()=>{if(n.spin)return;if(!__DATA__.isLogined){d.emit("_pri6n4");return}if((c=>!isNaN(c)&&c<=0)(+i.id)||(n.spin=!0,Z()))return;const{verify:t,alert:o,t:a}=i,s=c=>{o!=1&&o!=2?v(c):n.spin=!1};t==1?V({g_sitekey:__DATA__.sitekey_v3,action:"down_"+a}).then(c=>{S.g_token=c,s(c)}).catch(O):t==5?(d.emit("_1ksffsj",{reject(){i.verify=1,n.spin=!1,b()},ok(c){v(c,"v5")}}),l("couponbig-down-img-code")):s(),l({1:"down-attribuateshow",2:"down-shareshow"}[o])};let h=null;function v(e,t){const{id:o,type:a,t:s,copy:f,token:c,time:w}=i,u=new URLSearchParams(location.search),m={id:o,type:a,t:s,cp:f,token:c,time:w,down_file_code:e||void 0,code_version:e&&t||void 0,slidesdocs:u.get("slidesdocs")||void 0};D(m),h=()=>D(m)}function D(e){p.post("/api/down/down-file?r="+Math.random(),e).then(se).catch(t=>{t=t||{},Object.assign(S.errData,e),n.status="err",n.spin=!1,$toast.error(i.errInfo),p.get("/api/down/log-trace-err",{u:{status:t.status,readyState:t.readyState,responseText:t.responseText,textStatus:t.statusText,errorThrown:""}})})}function se(e){const{id:t,t:o,type:a}=i;switch(e.prf&&h&&d.emit("prf:down",h),h=null,n.spin=!1,e.status){case 200:L(e),G(),Q({data:e.data,share:e.share}),ae(t,o),p.get("/api/statistics/down-statis",{id:t,type:a,t:o,vip_type:__DATA__.vipType});break;case 304:z({g_sitekey:e.v2}).then(s=>{v(s,"v2")}).catch(O);break;case 404:l("down-data404"),$toast.error(e.info,0);break;case-1:d.emit("_amemn8","max",{type:o+""}),l("down-maxalert");break;case-2:l("down-fillinfo");break;case-3:l("down-giftmaxalert");break;case-4:d.emit("_amemn8","daily",{type:o+""}),p.post("/api/user/free-cookie",{operate:1,value:"alert-daily-gift"});break;case-5:d.emit("_pri6n4");break;case-6:$toast.error(e.info,0);break;case-7:case-8:case-9:d.emit("_amemn8","ip",{ipCode:e.status,type:o+""}),_();break;case 1:d.emit("_amemn8","plans",{type:o+""}),_();break;case 3:case 4:alert("Please click verification"),location.reload();break;case 7:d.emit("_amemn8","tpl",{type:o+""}),_(),l("down-nofree");break;case 8:d.emit("_amemn8","rar",{type:o+""}),_(),l("down-rarlimit");break;case 9:d.emit("_amemn8","enterprise",{type:o+""}),_(),l("down-enterprise-limit");break}}function re(e){const t=n.share;if(e==="copy"){const o=t.copy;o&&R(o).then(()=>{$toast.success(__DATA__.copyTips)}).catch(a=>{})}else{let o,a;e==="pin"?(o=t.pin,a={width:1034,height:820}):e==="fb"?o=t.facebook:e==="tt"&&(o=t.twt),o&&q(o,"share-"+e,a)}}const ie={username:"",email:"",topic:"",message:""},r=E({open:!1,loading:!1,...ie,err:""});function ce(e){if(!r.loading){if(!r.username.trim()){r.err="username",$toast.error(e.username);return}if(!I(r.email)){r.err="email",$toast.error(e.email);return}if(r.topic===""){r.err="topic",$toast.error(e.topic);return}if(r.message.trim().length<15){r.err="message",$toast.error(e.message);return}r.err="",r.loading=!0,p.post("/api/work-order/contact-us",{id:i.id,type:i.t,username:r.username,email:r.email,topic:r.topic,message:r.message,feedback_url:location.href,down_limit:"1"}).then(t=>{r.loading=!1,t.status===200?(r.open=!1,$toast.success("Successful!")):$toast.error(t.info)}).catch(()=>{r.loading=!1,$toast.error("Error!")})}}F("_hz3vri",()=>{const e="_1vb6prl _1i3kt2s";let t=!1;return{store:n,feedback:r,get vipTitCls(){return n.usrTap?"":e},get clickHereCls(){return n.status===null?e:""},get spinCls(){return n.spin?"_1tsj2ix":""},"on:mounted"(){if(document.querySelector("._1rtuhfs")){this.$app.dialog="device-limit",t=!0;return}ee(this.$refs.loadIpt),this.$watch(()=>n.status,T),this.$watch(()=>r.topic,a=>{a!==""&&r.err==="topic"&&(r.err="")}),i.autoload&&i.flag==1&&b();let o=!1;return d.on("prf:down",a=>{if(o)return;const s=this._Refs.prfDown,f=()=>{o=!1};o=!0,s.onshow({onDownPrf:a,...s.getName(i.one),slidesdocs:location.search.includes("slidesdocs=1"),data:{action:"down",id:i.id,type:i.t},resolve:f,reject:f}),l("down-prfdown-btn"+(__DATA__.enterpriseStatus==1?"team":""))})},"on:unmounted"(){T("ok")},clickDownNow(){t||(n.usrTap=!0,b())},clickHere(){t||(n.spin||!n.data.downUrl&&n.status==="err"&&(n.spin=!0,D({...S.errData})),l("down-clickhere"))},onShare(o){re(o)},onDownLink(o,a){o==="rm_bg"&&(a.preventDefault(),K("rbg_id_type","".concat(i.id,"_").concat(i.t),{domain:".pngtree.com",expires:1}),window.open("/remove-background","_blank"))},downPrf(){d.emit("prf:down")},onFeedback(o){r.open=o},feedbackErrCls(o){return r.err===o?"_feqbc0":""},feedbackSubmit(o){ce(o||{})}}});export{N as __vite_legacy_guard};
